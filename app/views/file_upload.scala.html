@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@(fileUploadUrl: String, error: String)(implicit request: Request[_], context: config.RasContext, messages: Messages)

@import uk.gov.hmrc.play.views.html._
@import uk.gov.hmrc.play.views.html.helpers._
@import views.html.helpers._

@scriptElem = {
  <script type="text/javascript" src='@controllers.routes.AssetsController.at("javascripts/jquery-3.2.1.min.js")'></script>
  <script type="text/javascript" src='@controllers.routes.AssetsController.at("javascript/check-file-type.js")'></script>
}

@ras_main(title = Messages("file.upload.page.title"),scriptElem = Some(scriptElem)) {


<div class="grid-layout--no-gutter">
  <div class="grid-layout__column">
    <div class="grid-layout__column--3-4">

      <div>
        <a class="link-back" href="@routes.FileUploadController.back">@Messages("back")</a>
      </div>

      @if(error == ""){
        <div id="no-errors" class="validation-summary error-summary" role="group" tabindex="-1" style="display:none;">
      }else {
        <div id="errors" class="validation-summary error-summary" role="group" tabindex="-1" >
      }
        <h1 class="heading-medium error-summary-heading" id="error-summary-heading">@Messages("generic.errors_heading")</h1>

        <ul class="error-summary-list">
          <li role="tooltip" data-journey="upload-page:error:choose-file"><a id="error" class="error-list" href="#sub-header" data-focuses="choose-file">@error</a></li>
        </ul>
      </div>


      <h1 id="header" class="heading-xlarge">@Messages("file.upload.page.header")</h1>
      <br /><br />

      <!-- div is closed early due to styling restrictions -->
      @if(error==""){
        <div id="file-upload" class="form-group no-margin">
      }else{
        <div id="file-upload-with-error" class="form-group no-margin form-field--error">
      }

          <p id="sub-header">@Html(Messages("file.upload.page.sub-header"))</p>

          <p id="upload-error" class="error-list">@error</p>

          <form
              id = "upload-form"
              action="@fileUploadUrl"
              enctype="multipart/form-data"
              method="post"
              onsubmit="return checkFileType(this)">
            <input id="choose-file" name="file" type="file" size="40"/>


        </div>

            <p><a href="" id="upload-help-link">@Messages("get.help.uploading.link")</a></p>
            <br />
            <button type="submit" id="continue-button">@Messages("continue")</button>
          </form>


    </div>
  </div>
</div>


}

